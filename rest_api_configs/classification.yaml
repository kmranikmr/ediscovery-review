components:
  cleaner:
    init_parameters:
      ascii_only: false
      keep_id: false
      remove_empty_lines: true
      remove_extra_whitespaces: true
      remove_regex: null
      remove_repeated_substrings: false
      remove_substrings: null
      unicode_normalization: null
    type: haystack.components.preprocessors.document_cleaner.DocumentCleaner
  generator:
    init_parameters:
      generation_kwargs:
        max_tokens: 1000
        temperature: 0.1
      keep_alive: null
      model: mistral
      raw: false
      streaming_callback: null
      system_prompt: null
      template: null
      timeout: 120
      url: http://localhost:11434
    type: haystack_integrations.components.generators.ollama.generator.OllamaGenerator
  prompt_builder:
    init_parameters:
      required_variables:
      - documents
      template: "\nClassify this legal document for privilege and responsiveness.\n\
        \nDocument:\n{% for document in documents %}\n{{ document.content }}\n{% endfor\
        \ %}\n\nTask: Classify the document as:\n- Privilege: \"privileged\" or \"\
        non-privileged\" \n- Responsiveness: \"responsive\" or \"non-responsive\"\n\
        \nOutput the classification in JSON format:\n{\"privilege\": \"privileged\"\
        , \"responsiveness\": \"responsive\", \"confidence\": 0.9}\n\nClassification\
        \ result:"
      variables: null
    type: haystack.components.builders.prompt_builder.PromptBuilder
  splitter:
    init_parameters:
      extend_abbreviations: true
      language: en
      respect_sentence_boundary: false
      split_by: word
      split_length: 1000
      split_overlap: 50
      split_threshold: 0
      use_split_rules: true
    type: haystack.components.preprocessors.document_splitter.DocumentSplitter
connection_type_validation: true
connections:
- receiver: splitter.documents
  sender: cleaner.documents
- receiver: prompt_builder.documents
  sender: splitter.documents
- receiver: generator.prompt
  sender: prompt_builder.prompt
max_runs_per_component: 100
metadata: {}
